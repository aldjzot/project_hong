<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <style>
*{margin:0; padding:0;}
ul{list-style:none}
.slide{width:500px; height:300px; border:1px #F00 solid; position:relative; margin:0 auto;}
.slide button{position:absolute; top:50%; z-index:1;}
.slide button.next{right:-31px;}
.slide button.prev{left:-31px;}
.slide >div {width:100%; height:100%; overflow:hidden;}// 아이콘이 밖으로 보일라면 슬라이드의 div의 위드값을 줘야한다.*/위드값을 줘야 상속받는다
.slide ul{text-align:center;}
.slide li{display:inline-block;}
.slide li a{display:block; width: 20px; height:20px; position:relative; z-index: 1; border:1px #F00 solid;  color:#000; top:340px; }
.slide li img{height:100%; width: 500px; position:absolute; left:0; top:0; display:none;}
.slide li:first-child img{display:block;}
.slide li.on a{background-color:#F00;}
</style>
<script type="text/javascript">
    // $(function(){                
        
    //   var idx = 0;
    //   var slideWidth =$('.slide').width();
       
      
    //   $('.next').click(function(){
        
    //     $('.slide li').eq(idx).removeClass('on').children('img').animate({
    //         left:-slideWidth
    //     }).parent().next().addClass('on').children('img').css({
    //         'display':'block',
    //         'left':slideWidth
    //     }).stop().animate({
    //         left:'0'
    //     })
        
    //     idx++
    //     if(idx == $('.slide li').length){
    //         idx =0
    //     }
    //   })
    // })
    
    // $(function(){                
        
    //   var idx = 0;
    //   var slideWidth =$('.slide').width();
       
      
    //   $('.prev').click(function(){
        
    //     $('.slide li').eq(idx).children('img').animate({
    //         left:slideWidth
    //     }).parent().prev().children('img').css({
    //         'display':'block',
    //         'left':slideWidth
    //     }).stop().animate({
    //         left:'0'
    //     })
        
    //     idx--
        
    //     if(idx == $('.slide li').length-1){
    //         idx = 0
    //         $('.slide li').eq(idx).children('img').css({
    //             'left':slideWidth,
    //             'display':'block'
    //         }).stop().animate({
    //             'left':'0'
    //         })
    //     }
    //   })
    // })
    

 $(function(){                
        
      var idx = 0; // 변수는 idx 이다.
      var slideWidth =$('.slide').width(); 
       
      
      $('.next').click(function(){
        
        $('.slide li').eq(idx).removeClass('on').children('img').animate({
            left:-slideWidth
        }).parent().next().addClass('on').children('img').css({
            'display':'block',
            'left':slideWidth
        }).stop().animate({
            left:'0'
        })
        
        idx++
       
        if(idx == $('.slide li').length){
       
            idx =0
            $('.slide li').eq(idx).children('img').css({
                'left':slideWidth
            }).stop().animate({
                'left':'0'
            }).parent().addClass('on').siblings().removeClass('on')
        }
            
      })
      
      $('.prev').click(function(){
        
        $('.slide li').eq(idx).children('img').animate({
            left:slideWidth
        }).parent().prev().children('img').css({
            'display':'block',
            'left':-slideWidth
        }).stop().animate({
            left:'0'
        })
        
        idx--
       
        if(idx < 0){
       
            idx =$('.slide li').length-1
            $('.slide li').eq(idx).children('img').css({
                'left':-slideWidth,
                'display':'block'
            }).stop().animate({
                'left':'0'
            })
        }
    
    
        $('.slide div li a').click(function(){
       
       idx = $(this).parent().index();
       var hisidx = $('.slide div li.on').index()
       
       if(idx > hisidx){
       
        $('.slide div li').eq(idx).addClass('on').children('img').css({
            'left':slideWidth,
            'display':'block'
        }).animate({
            left:0
        })
        
        $('.slide div li').eq(hisidx).removeClass('on').children('img').animate({
            left:-slideWidth
        })
       }else if(idx < hisidx){
           
         $('.slide div li').eq(idx).addClass('on').children('img').css({
            'left':-slideWidth,
            'display':'block'
        }).animate({
            left:0
        })
        
        $('.slide div li').eq(hisidx).removeClass('on').children('img').animate({
            left:slideWidth
        })  
           
       }
       
       
       
       
       
        return false;
    });
    
    
    
    
    
    var play = setInterval(function(){
        $('.next').click();
        
    },1000)
    
    
    $('.slide').mouseenter(function(){
        
        clearInterval(play)
    }).mouseleave(function(){
      setInterval(function(){
        $('.next').click();
        
        },1000)
        
    })
    
    

    
    })
    
            
            
                
                    
                        
        return false;
    });
    
    // $(function(){ //실행하기
    //         var bbb = []  //사진이미지 그릇에 담기
    //         $('.section div').each(function(){  //div안에 section들을 각각 선택해서 실행해라 
    //           bbb.push($(this).offset().top) //그릇에 담긴 사진들을 전체크기 top에서 사진 길이만큼 내려주기
    //           console.log(bbb) // bbb를 뽑아내기
    //         })
           
    //       $('.nav li a ').click(function(){ // nav li a를 클릭 실행하라.
    //             var aa = $(this).parent().index() // 변수 aa의 부모의 값을 알아내라.
    //           console.log(aa) // aa를 뽑아내기
    //           $('html,body').animate({ // html,body를 움직이기 
    //               scrollTop:bbb[aa] // bbb와 aa를 합쳐서 스크롤 탑 하기
    //           })
    //       })
           
    //     })

    
    
    
 

</script>

</head>
<body>
    
    <div class="slide">
        
        <button class="next">다음</button>
        <button class="prev">이전</button>
        
        <div>
            <ul>
                <li class="on">
                    <a href="">1</a>
                    <img src="img/1.jpg">
                </li>
                <li>
                    <a href="">2</a>
                    <img src="img/2.jpg">
                </li>
                <li>
                    <a href="">3</a>
                    <img src="img/4.jpg">
                </li>
                <li>
                    <a href="">4</a>
                    <img src="img/5.png">
                </li>
               
            </ul>
        </div>
        
    </div>
    
    
</body>
</html>